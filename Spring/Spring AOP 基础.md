# Spring AOP 基础



## AOP 概述

AOP 是 Aspect Oriented Programming 的简称，即“面向切面编程”。AOP 通过横向抽取机制为那些无法通过纵向继承体系进行抽象的重复性代码提供了解决方案。

## AOP 术语

* 连接点（Joinpoint）：特定点是程序执行的某个特定位置，一个类或者一段程序代码拥有一些具有比娜姐性质的特定点，这些代码中的特定点就被称为“连接点”。Spring 仅支持方法的连接点，即进能够在方法的调用之前、方法调用之后、方法抛出异常时以及方法调用前后这些程序执行点织入增强。连接点由两个信息确定：一是用方法表示的程序执行点；二是用相对位置表示的方位。

* 切点（Pointcut）：每个程序类都拥有多个连接点，AOP 通过“切点”定位特定的连接点，切点和连接点不是一对一的关系，一个切点可以匹配多个连接点。

* 增强（Advice）：增强是织入目标类连接点上的一段程序代码。因为增强既包含用于添加到目标连接点上的一段执行逻辑，又包含用于定位连接点的方位信息，所以 Spring 所提供的增强接口都是带方位名称的，如：BeforeAdvice、AfterAdivice、ThrowsAdvice 等。所以只有结合切点和增强，才能确定特定的连接并实时增强逻辑。

* 目标对象（Target）：增强逻辑的织入目标类。

* 引介（Introduction）：引介是一种特殊的增强，它为类添加一些属性和方法。

* 织入（Weaving）：织入是将增强添加到目标类的具体连接点上的过程。AOP 有三种织入方式：

  1. 编译期织入：需要使用特殊的 Java 编译器
  2. 类装载期织入：要求使用特殊的类装载器
  3. 动态代理织入：在运行期为目标类添加增强生成子类

  Spring 采用动态代理织入，而 AspectJ 采用编译期织入和类装载期织入。

* 代理（Proxy）：一个类被 AOP 织入增强后，就产生了一个结果类，它是融合了原类和增强逻辑的代理类。

* 切面（Aspect）：切面由切点和增强（引介）组成，它既包括横切逻辑的定义，特包括连接点的定义。

 





























## 参考与感谢